_mode=host
pkgname=firefox-mobile-config
pkgdesc="Firefox tweaks for mobile and privacy"
pkgver=4.0.0.r0.g3b3c589
pkgrel=1
_arches=specific
arch=(
    any
)
license=(GPL-3.0-or-later)
url=https://gitlab.com/postmarketOS/mobile-config-firefox
_commit=3b3c589d44fc6ecf23e6ca376f69036f851f0335
source=(
    "git+https://gitlab.com/postmarketOS/mobile-config-firefox.git#commit=$_commit"
)
sha256sums=(
    SKIP
)

pkgver() {
    cd mobile-config-firefox
    git describe --long --tags --abbrev=7 "$_commit" | sed 's/^v//;s/\([^-]*-g\)/r\1/;s/-/./g'
}

build() {
    cd mobile-config-firefox

    make
}

package() {
    cd mobile-config-firefox

    make DESTDIR="$pkgdir" install
}
