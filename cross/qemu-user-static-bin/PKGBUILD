# Maintainer: Leonidas P. <jpegxguy at outlook dot com>
# Maintainer: Jerry <isjerryxiao at outlook dot com>
# Contributor: Anes Belfodil <ans.belfodil at gmail dot com>
# Contributor: David Rheinsberg <david.rheinsberg at gmail dot com>
# Contributor: David Herrmann <dh.herrmann at gmail dot com>
_mode=host
_pkgname=qemu-user-static
pkgname=qemu-user-static-bin
pkgdesc="A generic and open source machine emulator, statically linked"
pkgver=5.2
pkgrel=12
_arches=all
arch=(
    x86_64
    i686
    aarch64
    armv7h
    armv6h
)
license=(
    GPL2
    LGPL2.1
)
url=http://wiki.qemu.org
provides=(
    qemu-user
    qemu-user-static
)
conflicts=(
    qemu-user
    qemu-user-static
)

_pkgadditver="+dfsg-11+deb11u1"
# case "${CARCH}" in
#    "")_pkgadditver="+dfsg-sth-else"
# esac

source_x86_64=("https://deb.debian.org/debian/pool/main/q/qemu/${_pkgname}_${pkgver}${_pkgadditver}_amd64.deb")
source_i686=("https://deb.debian.org/debian/pool/main/q/qemu/${_pkgname}_${pkgver}${_pkgadditver}_i386.deb")
source_aarch64=("https://deb.debian.org/debian/pool/main/q/qemu/${_pkgname}_${pkgver}${_pkgadditver}_arm64.deb")
source_armv7h=("https://deb.debian.org/debian/pool/main/q/qemu/${_pkgname}_${pkgver}${_pkgadditver}_armhf.deb")
source_armv6h=("https://deb.debian.org/debian/pool/main/q/qemu/${_pkgname}_${pkgver}${_pkgadditver}_armel.deb")

sha256sums_x86_64=('0e11d8a4c1957db78e47c6de08689c5684e8e5651290341f7995293870fad75e')
sha256sums_i686=('6b47f99ea2af1461c81ce725e4ae1b4d389026fb80c56de336cd1ef3b2bc71e5')
sha256sums_aarch64=('a125d5453b092b68b4aaec14182616dd59f1093061c59983a6f2d1b4bb84bbac')
sha256sums_armv7h=('e04e6d09d82c2fa339e6836ebbea41e8d1609fa5da9781c775828f0f5c0d599e')
sha256sums_armv6h=('29530ca3a64c8889a63b7b9b718cf0a53016cb37c1f1527f303704fe319dd2a3')

package() {
    cd "${pkgdir}"
    tar -xf "${srcdir}/data.tar.xz" --exclude=./usr/share/man/man1/qemu-debootstrap.1.gz ./usr/bin ./usr/share/man
}
