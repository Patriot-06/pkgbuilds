_mode=cross
pkgname=firmware-msm8953-xiaomi-tissot
pkgver=0.1
pkgrel=1
_arches=specific
arch=(aarch64)
license=(custom:Proprietary)
options=(!strip)
source=(
    "git+https://github.com/Kiciuk/proprietary_firmware_mido"
)
# "git+https://gitlab.com/jiaxyga/firmware-xiaomi-tissot"

# Эта хуета не работает. Какие-то корявые блобы
# А вот mido'шные работают

# default pmos gpu blobs from tissot repo are bullshit and don't work
# mido gpu blobs are used instead

sha256sums=(
    SKIP
)
_fwdir="/usr/lib/firmware"

build() {
    echo "$pkgname needs no building!"
}

package() {
    ###cd "$srcdir/firmware-xiaomi-tissot/lib/firmware/postmarketos"
    cd "$srcdir/proprietary_firmware_mido/firmware"
    
    install -Dm644 a506_zap.mdt -t "$pkgdir/$_fwdir"/kupfer
    install -Dm644 a506_zap.b02 -t "$pkgdir/$_fwdir"/kupfer
    
    install -Dm644 a530_pfp.fw -t "$pkgdir/$_fwdir"/qcom
    install -Dm644 a530_pm4.fw -t "$pkgdir/$_fwdir"/qcom

}
